!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.testcase=e():t.testcase=e()}(this,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){const{EntityFactoryEndpoint:r}=n(1),o={world:t=>{alert(t)}},i=new r;i.register(o),i.connect(),setTimeout(()=>{i.send("hello","Markus")},1e3)},function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e){t.exports={IsFunction:t=>"function"==typeof t,IsObject:t=>null!==t&&typeof t==typeof{}}},function(t,e,n){n(2);const r=n(5);function o(){if(!0===this._isOpen)for(let t=0;t<this._cache.length;t++)this._connection.send(this._cache.Pull(t));else setTimeout(()=>o.bind(this)(),20)}t.exports={EntityFactoryEndpoint:class{constructor(){this._connection=null,this._isOpen=!1,this._cache=[],this._actions={}}register(t){this._actions=t}connect(t){t=t||location.href.replace("http","ws"),this._connection=new r(t),this._connection.onopen=()=>{this._isOpen=!0},this._connection.onclose=()=>{this._isOpen=!1,setTimeout(()=>this.connect(t),2e3)},this._connection.onmessage=t=>{const e=(n=t.data,JSON.parse(n));var n;const r=this._actions[e.type];r&&"function"==typeof r?r(e.payload):console.info("no valid Action found for "+r.type)},this._connection.onerror=function(t){console.error(t)}}send(t,e){var n;this._cache.push((n={type:t,payload:e},JSON.stringify(n))),o.bind(this)()}}}},function(t,e,n){const{ListSortOrder:r}=n(3);t.exports={ListSortOrder:r}},function(t,e,n){const{Filter:r,Find:o,FindLast:i,GroupBy:s,IndexOf:u,MergeArray:c,OperateArray:f,Reverse:p,Sort:l,Without:a}=n(4),{IsFunction:y}=n(0),h=Object.freeze({ASC:"asc",DESC:"desc"});Array.prototype.Count=function(){return this.length},Array.prototype.Max=function(t){return f(this,t,1)},Array.prototype.Min=function(t){return f(this,t,2)},Array.prototype.Mean=function(t){return f(this,t,4)},Array.prototype.Sum=function(t){return f(this,t,3)},Array.prototype.Add=function(t){return this.push(t),this},Array.prototype.AddIfNotExists=function(t){return this.Contains(t)||this.Add(t),this},Array.prototype.Reduce=function(t,e){for(const n of this)e=t(e,n);return e},Array.prototype.AddRange=function(t){for(const e of t)this.Add(e);return this},Array.prototype.AddRangeIfNotExists=function(t){for(const e of t)this.AddIfNotExists(e);return this},Array.prototype.Clear=function(){return this.splice(0,this.length),this},Array.prototype.Contains=function(t){for(const e of this){if(y(e.Equals)&&e.Equals(t))return!0;if(e===t)return!0}return!1},Array.prototype.Copy=function(){const t=[];for(const e of this)t.push(recursiveDeepCopy(e));return t},Array.prototype.Exists=function(t){return!!o(this,t)},Array.prototype.Find=function(t){return o(this,t)||null},Array.prototype.FindLast=function(t){return i(this,t)||null},Array.prototype.FindIndex=function(t){return o(this,t,!0)},Array.prototype.FindAll=function(t){const e=[];for(let n=0;n<this.length;n++)t(this[n])&&e.push(this[n]);return e},Array.prototype.Insert=function(t,e){return c(this,t,[e])},Array.prototype.InsertRange=function(t,e){return c(this,t,e)},Array.prototype.IndexOf=function(t,e){let n;return n=e?u(this,t,e):u(this,t),n},Array.prototype.Remove=function(t){const e=a(this,[t]);return this.Clear(),this.AddRange(e),this},Array.prototype.RemoveAll=function(t){const e=r(this,e=>t(e),!0);return this.Clear(),this.AddRange(e),this},Array.prototype.RemoveAt=function(t){return t>=this.length||t<0||this.splice(t,1),this},Array.prototype.RemoveRange=function(t){const e=a(this,t);return this.Clear(),this.AddRange(e),this},Array.prototype.Reverse=function(){return p(this)},Array.prototype.Sort=function(t){const e=t||"asc";let n=this.sort((t,e)=>t>e?-1:t<e?1:0);return"asc"===e&&(n=this.sort((t,e)=>t>e?1:t<e?-1:0)),n},Array.prototype.SortBy=function(t,e){return l(this,t,e.Convert(t=>t===h.DESC))},Array.prototype.ElementAt=function(t){return this[t]||null},Array.prototype.Any=function(t){return"function"!=typeof t?this.length.IsAbove(0):!!this.Find(t)},Array.prototype.FirstOrDefault=function(t,e){return y(t)?o(this,t)||e||null:this[0]||e||null},Array.prototype.FindLastIndex=function(t){return i(this,t,!0)},Array.prototype.TrueForAll=function(t){for(const e of this)if(!t(e))return!1;return!0},Array.prototype.LastOrDefault=function(t,e){return y(t)?i(this,t)||e||null:this[this.length-1]||e||null},Array.prototype.GroupBy=function(t){return s(this,t)},Array.prototype.GroupKey=function(t){return Object.keys(s(this,t))},Array.prototype.Convert=function(t){const e=this?this.length:0,n=new Array(e);for(let r=0;r<e;r++){const e=this[r];n[r]=t(e,r,this)}return n},Array.prototype.Replace=function(t,e){const n=this,r=this.FindIndex(t);return r.IsBelow(0)?(n.Add(e),n):(n[r]=e,n)},Array.prototype.Join=function(t){return this.join(t||",")},Array.prototype.UnionBy=function(t,e){for(const n of t)e(n)&&this.push(n);return this},Array.prototype.Pull=function(t){let e=this.ElementAt(t);return t>this.length-1&&(t=this.length-1,e=this.ElementAt(t)),t<0&&(t=0,e=this.ElementAt(t)),this.splice(t,1),e},t.exports={ListSortOrder:h}},function(t,e,n){const{IsFunction:r}=n(0);function o(t,e,n=!1,r=!0){if(!0===r){for(let r=0;r<t.length;r++){const o=t[r];if(e(o))return n?r:o}return n?-1:null}for(let r=t.length-1;r>=0;r--){const o=t[r];if(e(o))return n?r:o}return n?-1:null}const i=(t,e)=>r(t.IsBefore)&&r(t.IsAfter)?t.IsBefore(e)?[1,2]:t.IsAfter(e)?[2,1]:[0,0]:[t,e],s=(t,e,n=0)=>{for(let o=0;o<t.length;o++){if(e===t[o]&&o>=n)return o;if(r(e.Equal)&&e.Equal(t[o])&&o>=n)return o}return-1};t.exports={MergeArray:(t,e,n)=>[...t.slice(0,e),...n,...t.slice(e,t.length)],Sort:(t,e,n)=>t.sort((t,r)=>{for(let o=0;o<e.length;o++){const s=e[o],u=n[o],c=i(t[s],r[s]);if(c[0]<c[1])return u?1:-1;if(c[0]>c[1])return u?-1:1}return 0}),OperateArray:(t,e,n)=>{let r=null,o=0;for(const i of t)if("number"==typeof i&&(!e||e(i)))switch(o++,n){case 1:(null===r||i>r)&&(r=i);break;case 2:(null===r||i<r)&&(r=i);break;case 3:case 4:null===r&&(r=0),r+=i}if(null===r&&(r=0),4===n){if(o<1)return 0;r/=o}return r},IndexOf:s,Without:(t,e)=>{const n=[];for(const r of t)s(e,r)>-1||n.push(r);return n},Filter:(t,e,n=!1)=>{const r=[];for(const o of t)!0===n?e(o)||r.push(o):e(o)&&r.push(o);return r},Find:(t,e,n=!1)=>o(t,e,n),FindLast:(t,e,n=!1)=>o(t,e,n,!1),Reverse:t=>{const e=[];let n=0;for(let r=t.length-1;r>=0;r--)e[n]=t[r],n++;return e},GroupBy:(t,e)=>{const n={};for(const r of t){const t=e(r);n[t]||(n[t]=[]),n[t].push(r)}return n},GetSortValue:i}},function(t,e,n){(function(e){var n=null;"undefined"!=typeof WebSocket?n=WebSocket:"undefined"!=typeof MozWebSocket?n=MozWebSocket:void 0!==e?n=e.WebSocket||e.MozWebSocket:"undefined"!=typeof window?n=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(n=self.WebSocket||self.MozWebSocket),t.exports=n}).call(this,n(6))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n}])}])}));